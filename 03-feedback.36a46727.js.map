{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAoB,sBAK1B,SAASC,EAAgBC,GACrB,IAAIC,EAAQD,EAAa,GACrBE,EAAWF,EAAa,GAC5B,MAAO,CACHC,MAASA,EAAME,MACfD,SAAYA,EAASC,OAI7B,SAASC,EAAaJ,EAAcK,GAChC,IAAIJ,EAAQD,EAAa,GACrBE,EAAWF,EAAa,GAC5BC,EAAME,MAAQE,EAAKJ,OAAS,GAC5BC,EAASC,MAAQE,EAAKH,UAAY,GAhBtCP,EAAKW,iBAAiB,QAASC,EAAAd,GAAEe,UAmBjC,SAA4BC,GACxB,IAAIC,EAAYX,EAAgBU,EAAME,cAAcC,UACpDC,aAAaC,QAAQhB,EAAmBiB,KAAKC,UAAUN,MArBG,MAC9Df,EAAKW,iBAAiB,UAuBtB,SAAoBG,GAChBA,EAAMQ,iBACN,IAAIP,EAAYX,EAAgBU,EAAME,cAAcC,UACpDM,QAAQC,IAAIT,GACZG,aAAaO,WAAWtB,GACxBM,EAAaK,EAAME,cAAcC,SAAU,OAG/C,IAAIS,EAAiBN,KAAKO,MAAMT,aAAaU,QAAQzB,IAAsB,MAC3EM,EAAaT,EAAKiB,SAAUS,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n\nconst form = document.querySelector(\".feedback-form\");\nconst formStateItemName = \"feedback-form-state\";\n\nform.addEventListener(\"input\", _.throttle(saveToLocalStorage, 500));\nform.addEventListener(\"submit\", formSubmit);\n\nfunction getFormAsObject(formElements) {\n    let email = formElements[0];\n    let textArea = formElements[1];\n    return {\n        'email': email.value,\n        'textArea': textArea.value\n    };\n}\n\nfunction fillFormData(formElements, data) {\n    let email = formElements[0];\n    let textArea = formElements[1];\n    email.value = data.email || '';\n    textArea.value = data.textArea || '';\n}\n\nfunction saveToLocalStorage(event) {\n    let formState = getFormAsObject(event.currentTarget.elements);\n    localStorage.setItem(formStateItemName, JSON.stringify(formState));\n}\n\nfunction formSubmit(event) {\n    event.preventDefault();\n    let formState = getFormAsObject(event.currentTarget.elements);\n    console.log(formState);\n    localStorage.removeItem(formStateItemName);\n    fillFormData(event.currentTarget.elements, {});\n}\n\nlet storedFormData = JSON.parse(localStorage.getItem(formStateItemName) || '{}');\nfillFormData(form.elements, storedFormData);"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$formStateItemName","$b00c40859be242c5$var$getFormAsObject","formElements","email","textArea","value","$b00c40859be242c5$var$fillFormData","data","addEventListener","$parcel$interopDefault","throttle","event","formState","currentTarget","elements","localStorage","setItem","JSON","stringify","preventDefault","console","log","removeItem","$b00c40859be242c5$var$storedFormData","parse","getItem"],"version":3,"file":"03-feedback.36a46727.js.map"}