{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAMpC,SAASC,EAAgBC,GAErB,OADCC,MAAOC,UAAYF,EACb,CACHC,MAASA,MAAME,MACfD,SAAYA,SAASC,OAI7B,SAASC,EAAaJ,EAAcK,IAC/BJ,MAAOC,UAAYF,EACpBC,MAAME,MAAQE,EAAKJ,OAAS,GAC5BC,SAASC,MAAQE,EAAKH,UAAY,GAdtCN,EAAKU,iBAAiB,SAASC,GAAOC,EAAAd,GAAEe,SAiBxC,SAA4BF,GACxB,IAAIG,EAAYX,EAAgBQ,EAAII,cAAcC,UAClDC,aAAaC,QArBS,sBAqBkBC,KAAKC,UAAUN,IAnBVO,CAAmBV,GAAM,OAC1EX,EAAKU,iBAAiB,UAqBtB,SAAoBC,GAChBA,EAAIW,iBACJ,IAAIR,EAAYX,EAAgBQ,EAAII,cAAcC,UAClDO,QAAQC,IAAIV,GACZG,aAAaQ,WA5BS,uBA6BtBjB,EAAaG,EAAII,cAAcC,SAAU,OAG7C,IAAIU,EAAiBP,KAAKQ,MAAMV,aAAaW,QAhCnB,wBAgCiD,MAC3EpB,EAAaR,EAAKgB,SAAUU","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash'\n\nconst form = document.querySelector(\".feedback-form\");\nconst formStateItemName = \"feedback-form-state\";\n\nform.addEventListener(\"input\", evt => _.throttle(saveToLocalStorage(evt), 500));\nform.addEventListener(\"submit\", formSubmit);\n\nfunction getFormAsObject(formElements) {\n    [email, textArea] = formElements;\n    return {\n        'email': email.value,\n        'textArea': textArea.value\n    };\n}\n\nfunction fillFormData(formElements, data) {\n    [email, textArea] = formElements;\n    email.value = data.email || '';\n    textArea.value = data.textArea || '';\n}\n\nfunction saveToLocalStorage(evt) {\n    let formState = getFormAsObject(evt.currentTarget.elements);\n    localStorage.setItem(formStateItemName, JSON.stringify(formState));\n}\n\nfunction formSubmit(evt) {\n    evt.preventDefault();\n    let formState = getFormAsObject(evt.currentTarget.elements);\n    console.log(formState);\n    localStorage.removeItem(formStateItemName);\n    fillFormData(evt.currentTarget.elements, {});\n}\n\nlet storedFormData = JSON.parse(localStorage.getItem(formStateItemName) || '{}');\nfillFormData(form.elements, storedFormData);"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$getFormAsObject","formElements","email","textArea","value","$945622fd0f572e60$var$fillFormData","data","addEventListener","evt","$parcel$interopDefault","throttle","formState","currentTarget","elements","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$saveToLocalStorage","preventDefault","console","log","removeItem","$945622fd0f572e60$var$storedFormData","parse","getItem"],"version":3,"file":"03-feedback.8b127bba.js.map"}